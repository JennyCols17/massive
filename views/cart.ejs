<%- include('partials/header', {title: 'Your Cart'}) %>
<%- include('partials/navbar') %>

<main class="max-w-7xl mx-auto px-4 py-16">
    <div class="text-center mb-12">
        <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight">Shopping Cart</h1>
        <p class="text-slate-500 mt-2 italic">Review your selected premium autoparts.</p>
    </div>

    <div id="cart-container">
        <div class="bg-white rounded-3xl border border-slate-200 shadow-sm p-20 text-center">
            <div class="inline-flex items-center justify-center w-24 h-24 bg-slate-100 rounded-full mb-6">
                <span class="text-4xl">ðŸ›’</span>
            </div>
            <h2 class="text-2xl font-bold text-slate-800">Your cart is currently empty</h2>
            <p class="text-slate-500 mb-8 max-w-sm mx-auto">It looks like you haven't added any parts to your order yet.</p>
            <a href="/shop" class="inline-block bg-blue-600 text-white px-10 py-4 rounded-full font-bold hover:bg-blue-700 transition-all shadow-lg">
                Continue Shopping
            </a>
        </div>
    </div>
</main>

<script>
    function renderCart() {
        const container = document.getElementById('cart-container');
        const cart = JSON.parse(localStorage.getItem('motusCart')) || [];

        if (cart.length > 0) {
            let html = `<div class="bg-white rounded-3xl border border-slate-200 shadow-sm p-8">
                <ul class="divide-y divide-slate-200">`;
            
            cart.forEach((item, index) => {
                html += `<li class="py-4 flex justify-between items-center">
                    <span class="font-medium text-slate-800">${item}</span>
                    <button onclick="removeItem(${index})" class="text-red-500 text-sm font-bold">Remove</button>
                </li>`;
            });

            html += `</ul>
                <div class="mt-8 border-t pt-6 text-right">
                    <button onclick="clearCart()" class="text-slate-400 mr-6 text-sm">Clear All</button>
                    <button class="bg-blue-600 text-white px-8 py-3 rounded-full font-bold">Checkout Now</button>
                </div>
            </div>`;
            container.innerHTML = html;
        }
    }

    function removeItem(index) {
        let cart = JSON.parse(localStorage.getItem('motusCart')) || [];
        cart.splice(index, 1);
        localStorage.setItem('motusCart', JSON.stringify(cart));
        location.reload();
    }

    function clearCart() {
        localStorage.removeItem('motusCart');
        location.reload();
    }

    window.onload = renderCart;
</script>

<%- include('partials/footer') %>