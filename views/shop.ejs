<%- include('partials/header', {title: 'Shop Inventory'}) %>
<%- include('partials/navbar') %>

<main class="max-w-7xl mx-auto px-4 py-12">
    <div class="flex justify-between items-center mb-10">
        <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight">Spare Parts Inventory</h1>
        <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full uppercase">
            <%= parts.length %> Items Found
        </span>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        <% if (parts.length > 0) { %>
            <% parts.forEach(part => { %>
                <div class="bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow duration-300 group">
                    <div class="h-48 bg-slate-100 flex items-center justify-center group-hover:bg-slate-200 transition-colors">
                        <span class="text-4xl">⚙️</span>
                    </div>

                    <div class="p-6">
                        <div class="flex justify-between items-start mb-2">
                            <h2 class="text-xl font-bold text-slate-800"><%= part.name %></h2>
                            <span class="text-blue-600 font-bold">$<%= part.price %></span>
                        </div>
                        
                        <p class="text-sm text-slate-500 mb-4">Category: <span class="font-medium text-slate-700"><%= part.category %></span></p>
                        
                        <div class="flex items-center justify-between mt-auto">
                            <span class="text-xs <%= part.stock > 0 ? 'text-green-600' : 'text-red-600' %> font-bold">
                                <%= part.stock > 0 ? 'In Stock (' + part.stock + ')' : 'Out of Stock' %>
                            </span>
                            <button class="bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <div class="col-span-full text-center py-20 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200">
                <p class="text-slate-500 text-lg">No parts found in the inventory. Try seeding the database!</p>
                <code class="block mt-4 text-sm text-blue-600">node scripts/seedFirebase.js</code>
            </div>
        <% } %>
    </div>
</main>

<%- include('partials/footer') %>